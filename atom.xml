<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Daniel's Blog]]></title>
  <subtitle><![CDATA[Stay hungry，Stay foolish]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://yerida.github.io/"/>
  <updated>2016-01-19T14:58:48.000Z</updated>
  <id>http://yerida.github.io/</id>
  
  <author>
    <name><![CDATA[Daniel Ye]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[JDK安装及环境变量配置]]></title>
    <link href="http://yerida.github.io/2016/01/18/JDK-install/"/>
    <id>http://yerida.github.io/2016/01/18/JDK-install/</id>
    <published>2016-01-18T13:47:55.000Z</published>
    <updated>2016-01-19T14:58:48.000Z</updated>
    <content type="html"><![CDATA[<h1 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h1><ol>
<li>从<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="external">JDK官方网站</a>下载最新版本的JDK, 或者从<a href="http://www.oracle.com/technetwork/java/javase/archive-139210.html" target="_blank" rel="external">JDK Archive</a>找早期的版本（目前JDK6还是很流行的，某些情况下，需要安装早期的版本），这里以JDK6作为例子。</li>
<li>根据操作系统的位数，32位下载X86安装包,  64位的下载X64的安装包。这里以<a href="http://download.oracle.com/otn/java/jdk/6u43-b01/jdk-6u43-windows-i586.exe" target="_blank" rel="external">jdk-6u43-windows-i586.exe</a>为例。</li>
<li>安装的时候，默认是安装在<code>C:\Program Files\Java</code>或者<code>C:\Program Files (x86)\Java</code>路径下，强烈建议不要安装在此路径下，因为这个路径的<code>Program Files</code>目录名中的空格有时候会引起一些问题。建议直接安装在<code>C:\Java</code>路径下。</li>
<li>环境变量配置（右击计算机–&gt;属性–&gt;高级系统设置–&gt;高级–&gt;环境变量）</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:left">变量名</th>
<th style="text-align:left">变量值</th>
<th style="text-align:left">注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">JAVA_HOME</td>
<td style="text-align:left"><code>C:\Java\jdk1.6.0_43</code></td>
<td style="text-align:left">JDK安装的目录</td>
</tr>
<tr>
<td style="text-align:left">Path</td>
<td style="text-align:left"><code>;%JAVA_HOME%\bin</code></td>
<td style="text-align:left">在原来的Path变量值后面添加</td>
</tr>
<tr>
<td style="text-align:left">CLASSPATH</td>
<td style="text-align:left"><code>.;%JAVA_HOME%\lib\tools.jar;%JAVA_HOME%\lib\dt.jar</code></td>
<td style="text-align:left">注意，变量值里面有个”.” ，代表当前路径</td>
</tr>
</tbody>
</table>
<p>5.测试JDK是否安装成功。<strong>新打开</strong>一个cmd命令窗口，输入<code>java –version</code>, 如果有输出JDK的版本信息，则说明安装成功。可以在写个打印”Hello World”的程序测试一下。</p>
<h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><p><em>这里以<a href="http://download.oracle.com/otn/java/jdk/6u45-b06/jdk-6u45-linux-i586.bin" target="_blank" rel="external">jdk-6u45-linux-i586.bin</a>为例</em></p>
<ol>
<li>在安装之前，先查看系统是否已经预装了OpenJDK软件，可以在终端执行以下命令。<br><code>java -version</code>如果有输出OpenJDK相关的信息，说明系统已经预装了OpenJDK软件，需要先卸载OpenJDK，卸载方法到网上搜索。</li>
<li>下载安装包<a href="http://download.oracle.com/otn/java/jdk/6u45-b06/jdk-6u45-linux-i586.bin" target="_blank" rel="external">jdk-6u45-linux-i586.bin</a>。假设安装包下载到<code>/home/yerida/Downloads</code>目录。</li>
<li><p>进入<code>/usr/local</code>目录，在该目录下创建一个java子目录,并进入该java子目录,命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cd</span> /usr/<span class="built_in">local</span></span><br><span class="line"><span class="variable">$sudo</span> mkdir java</span><br><span class="line"><span class="variable">$cd</span> java</span><br></pre></td></tr></table></figure>
</li>
<li><p>将安装包复制到该java目录，并为该安装包添加执行权限。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sudo</span> cp /home/yerida/Downloads/jdk-<span class="number">6</span>u45-linux-i586.bin /usr/<span class="built_in">local</span>/java  </span><br><span class="line"><span class="variable">$cd</span> /usr/<span class="built_in">local</span>/java  </span><br><span class="line"><span class="variable">$sudo</span> chmod a+x jdk-<span class="number">6</span>u45-linux-i586.bin</span><br></pre></td></tr></table></figure>
</li>
<li><p>执行该安装包。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sudo</span> ./jdk-<span class="number">6</span>u45-linux-i586.bin</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装后<code>/usr/local/java</code>目录下多了一个<code>jdk1.6.0_45</code>子目录,创建一个软连接指向该目录,并删除安装包。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sudo</span> ln <span class="operator">-s</span> jdk1.<span class="number">6.0</span>_45 jdk  </span><br><span class="line"><span class="variable">$sudo</span> rm jdk-<span class="number">6</span>u45-linux-i586.bin</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置环境变量。用VIM打开<code>/etc/profile</code>文件.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sudo</span> vim /etc/profile</span><br></pre></td></tr></table></figure>
<p>在文件末尾添加如下内容，保存并退出。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JAVA_HOME=/usr/local/java/jdk&#10;JRE_HOME=$JAVA_HOME/jre&#10;PATH=$JAVA_HOME/bin:$PATH&#10;CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/toos.jar&#10;export JAVA_HOME JRE_HOME PATH CLASSPATH</span><br></pre></td></tr></table></figure>
</li>
<li><p>使配置立即生效。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$source</span> /etc/profile</span><br></pre></td></tr></table></figure>
</li>
<li><p>测试安装是否成功。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$java</span> -version</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="Mac_OS_X"><a href="#Mac_OS_X" class="headerlink" title="Mac OS X"></a>Mac OS X</h1><p>Mac OS X系统下可以使用<code>brew cask</code>来安装JDK，这种方法非常简单。</p>
<ol>
<li><p>首先用以下命令查找可用的JDK安装包。<br><code>brew cask search java</code></p>
</li>
<li><p>安装最新版本的JDK使用如下命令<br><code>brew cask install java</code></p>
</li>
<li><p>如果要安装其他版本的JDK<br>JDK7安装 <code>brew cask search java7</code><br>JDK6安装 <code>brew cask search java6</code></p>
</li>
<li>测试安装是否成功。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$java</span> -version</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><em>Mac OS X系统下无需在配置环境变量,如果系统安装了多个JDK，使用IDE开发的时候可以指定具体的版本，终端下可以写个脚本来切换。</em></p>
<h1 id="Hello_World_u6D4B_u8BD5_u7A0B_u5E8F"><a href="#Hello_World_u6D4B_u8BD5_u7A0B_u5E8F" class="headerlink" title="Hello World测试程序"></a>Hello World测试程序</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello World!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>编译：<br><code>$javac HelloWorld.java</code></p>
<p>运行：<br><code>$java HelloWorld</code></p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h1><ol>
<li>从<a href="http://www.oracle.com/technetwork/]]>
    </summary>
    
      <category term="Java" scheme="http://yerida.github.io/tags/Java/"/>
    
      <category term="Java" scheme="http://yerida.github.io/categories/Java/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Test first post]]></title>
    <link href="http://yerida.github.io/2016/01/13/my-new-post/"/>
    <id>http://yerida.github.io/2016/01/13/my-new-post/</id>
    <published>2016-01-13T14:16:50.000Z</published>
    <updated>2016-01-13T15:11:03.000Z</updated>
    <content type="html"><![CDATA[<h1 id="u6D4B_u8BD5"><a href="#u6D4B_u8BD5" class="headerlink" title="测试"></a>测试</h1><h2 id="u8FD9_u662F_H2"><a href="#u8FD9_u662F_H2" class="headerlink" title="这是 H2"></a>这是 H2</h2><h6 id="u8FD9_u662F_H6"><a href="#u8FD9_u662F_H6" class="headerlink" title="这是 H6"></a>这是 H6</h6><hr>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="u6D4B_u8BD5"><a href="#u6D4B_u8BD5" class="headerlink" title="测试"></a>测试</h1><h2 id="u8FD9_u662F_H2"><a href="#u8FD9_u662F_H2" class]]>
    </summary>
    
      <category term="Blog" scheme="http://yerida.github.io/tags/Blog/"/>
    
      <category term="blog" scheme="http://yerida.github.io/categories/blog/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello World]]></title>
    <link href="http://yerida.github.io/2016/01/13/hello-world/"/>
    <id>http://yerida.github.io/2016/01/13/hello-world/</id>
    <published>2016-01-13T13:23:21.000Z</published>
    <updated>2016-01-13T13:23:21.000Z</updated>
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start"><a href="#Quick_Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create_a_new_post"><a href="#Create_a_new_post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server"><a href="#Run_server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files"><a href="#Generate_static_files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites"><a href="#Deploy_to_remote_sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.]]>
    </summary>
    
  </entry>
  
  <entry>
    <title><![CDATA[Linux write系统调用问题(对齐问题)]]></title>
    <link href="http://yerida.github.io/2012/01/20/Linux-Write-System-Call-Problem/"/>
    <id>http://yerida.github.io/2012/01/20/Linux-Write-System-Call-Problem/</id>
    <published>2012-01-20T12:55:45.000Z</published>
    <updated>2016-01-20T13:28:37.000Z</updated>
    <content type="html"><![CDATA[<p>最近在学习Linux C 编程，碰到一个关于write系统调用的疑问。</p>
<p>程序1：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((write(<span class="number">1</span>, <span class="string">"Here is some data\n"</span>, <span class="number">18</span>)) != <span class="number">18</span>)</span><br><span class="line">        write(<span class="number">2</span>, <span class="string">"A error has occured on file descriptior 1\n"</span>, <span class="number">42</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译后在终端中运行，运行结果如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Here is some data</span><br></pre></td></tr></table></figure></p>
<p>如果稍微改变一下write的实参值，将第一个write函数的第三个参数改为17，运行结果如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Here is some data A error has occured on file descriptior 1</span><br></pre></td></tr></table></figure></p>
<p>将18改为20，在终端中运行的结果如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Here is some data&#10;A error has occured on file descriptior 1</span><br></pre></td></tr></table></figure></p>
<p>此程序没有疑问。</p>
<p>程序2：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> nb;</span><br><span class="line">    nb = (<span class="keyword">int</span>)write(<span class="number">1</span>, <span class="string">"Here is some\n"</span>, <span class="number">18</span>);</span><br><span class="line">    <span class="keyword">if</span> (nb != <span class="number">18</span>)</span><br><span class="line">        write(<span class="number">2</span>, <span class="string">"A error has occured on file descriptior 1\n"</span>, <span class="number">42</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\nThe value returned by the function write is %d\n"</span>, nb);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译运行后的结果如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Here is some&#10;A&#10;The value returned by function write is 18</span><br></pre></td></tr></table></figure></p>
<p>程序2运行后，第二行为什么会输出一个A ？ 这个A明显是if语句块里的那个write函数的结果。如果nb的值确实是18，那么按理来说，if语句就不会执行，就不会有这个A；如果nb的值不是18，那么按理第二行应该输出：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A error has occured on file descriptior 1\n</span><br></pre></td></tr></table></figure></p>
<p>原因分析如下：</p>
<p>常量字符串按顺序存储在常量区域的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#34;Here is some\n&#34;&#10;&#34;A error has occured on file descriptior 1\n&#34;</span><br></pre></td></tr></table></figure></p>
<p>这两个常量字符串的地址是紧挨着的, 当第一个字符串的访问越界后就访问到第二个字符串了。</p>
<p>考虑下对齐，指针的地址通常需要是 32 位对齐，也就是 4 的倍数。所以前面的 14 个字符会被多填充两个 0 来对齐到 16 个字节，在加上后面的 A 和一个空格, 刚好 18 个。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>最近在学习Linux C 编程，碰到一个关于write系统调用的疑问。</p>
<p>程序1：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1<]]>
    </summary>
    
      <category term="C/C++" scheme="http://yerida.github.io/tags/C-C/"/>
    
      <category term="Linux" scheme="http://yerida.github.io/tags/Linux/"/>
    
      <category term="C" scheme="http://yerida.github.io/categories/C/"/>
    
  </entry>
  
</feed>
